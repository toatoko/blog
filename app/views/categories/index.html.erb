<div class="container">

  <% content_for :title, "Categories" %>

  <h1>Categories</h1>
  <%= link_to "New category", new_category_path, class: "btn btn-primary" if current_user&.admin? %>

  <div class=""flex-category-boxes pt-5">
    <% @categories.order(:id).each do |category| %>
      <h2><%= category.name %></h2>
        <% if category.posts.empty? %>
          <h6>No Post in This Category</h6>
        <% else %>
          <h6>Posts In This Category</h6>
        <% end %>

      <ol>
        <% category.posts.order(:id).each do |post| %>
            <li><%= link_to "#{post.title}" , post, class: "btn btn-outline-primary"%></li>
        <% end %>
      </ol>
      <p>
        <%= link_to "Show this category", category, class: "btn btn-secondary" %>
      </p>
    <% end %>
  </div>

</div>